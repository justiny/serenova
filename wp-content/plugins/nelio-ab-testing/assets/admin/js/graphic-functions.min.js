function nelioabStringifyTimestamp(c){var f=new Date(c);var b=f.getFullYear();var e=f.getMonth()+1;var a=f.getDate();if(10>e){e="0"+e}if(10>a){a="0"+a}return b+"-"+e+"-"+a}function nelioabLightenColor(e){var i=30;var c=false;if(e[0]=="#"){e=e.slice(1);c=true}var d=parseInt(e,16);var h=(d>>16)+i;if(h>255){h=255}else{if(h<0){h=0}}var a=((d>>8)&255)+i;if(a>255){a=255}else{if(a<0){a=0}}var f=(d&255)+i;if(f>255){f=255}else{if(f<0){f=0}}return(c?"#":"")+(f|(a<<8)|(h<<16)).toString(16)}if(!String.prototype.nelioabformat){String.prototype.nelioabformat=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return typeof a[c]!="undefined"?a[c]:b})}}function makeConversionRateGraphic(b,g,d,f){var c=[],a=[];for(var e=0;e<f.length;++e){c.push(f[e].y);a.push(f[e].color)}return new Chart(b,{type:"bar",data:{datasets:[{data:c,backgroundColor:a}],labels:d},options:{layout:{padding:{left:10,right:0,top:0,bottom:0}},tooltips:{callbacks:{label:function(h,i){return g.column.nelioabformat(h.yLabel)}}},responsive:true,maintainAspectRatio:false,title:{display:true,text:g.title,fontSize:18,fontColor:"#464646",fontStyle:"normal",fontFamily:"'Open Sans', sans-serif"},legend:{display:false},scales:{yAxes:[{scaleLabel:{display:true,labelString:g.yaxis},ticks:{min:0,max:100}}]}}})}function makeImprovementFactorGraphic(j,f,e,c){var h=[],a=[];for(var d=0;d<c.length;++d){h.push(c[d].y);a.push(c[d].color)}var b=0,g=0;for(var d=0;d<h.length;++d){if(h[d]<b){b=h[d]}if(h[d]>g){g=h[d]}}if(b>=0&&g<100){b=0;g=100}if(b>-100&&g<=0){b=-100;g=0}if(b<0){b=Math.floor(b)}if(g<0){g=Math.floor(g)}if(b>0){b=Math.ceil(b)}if(g>0){g=Math.ceil(g)}return new Chart(j,{type:"bar",data:{datasets:[{data:h,backgroundColor:a}],labels:e},options:{layout:{padding:{left:10,right:0,top:0,bottom:0}},tooltips:{callbacks:{label:function(i,k){return f.detail.nelioabformat(h[i.index])}}},responsive:true,maintainAspectRatio:false,title:{display:true,text:f.title,fontSize:18,fontColor:"#464646",fontStyle:"normal",fontFamily:"'Open Sans', sans-serif"},legend:{display:false},scales:{yAxes:[{scaleLabel:{display:true,labelString:f.yaxis},ticks:{min:b,max:g}}]}}})}function makeTimelinePerAlternativeGraphic(l,h,a,c,k){var g=[];var b=["#00b193","#13b5ea","#ffd200","#f47b20","#00958f","#a0d5b5","#f05133","#5d87a1","#afbd22","#e31b23","#83cfca","#532e63","#215352","#00467f","#bec0c2"];g.push({label:h.original,backgroundColor:"#CC0000",borderColor:"#CC0000",fill:false,data:a[0]});var d=0;var f;for(f=1;f<a.length;++f){g.push({label:h.alternative.replace("%s",f),backgroundColor:b[d],borderColor:b[d],fill:false,data:a[f]});++d;if(d>b.length){d=0}}for(f=0;f<g.length;++f){var e=g[f].data||[];for(d=0;d<e.length;++d){e[d]={y:e[d],x:nelioabStringifyTimestamp(c+(24*3600*1000*d))}}}return new Chart(l,{type:"line",data:{datasets:g},options:{tooltips:{callbacks:{label:function(i,j){return j.datasets[i.datasetIndex].label+": "+i.yLabel+"%"}}},layout:{padding:{left:10,right:0,top:0,bottom:50}},responsive:true,maintainAspectRatio:false,title:{display:true,text:h.title,fontSize:18,fontColor:"#464646",fontStyle:"normal",fontFamily:"'Open Sans', sans-serif"},legend:{labels:{usePointStyle:true,fontStyle:"bold",fontColor:"#333333",fontSize:12},position:"bottom",},scales:{xAxes:[{type:"time",ticks:{autoSkip:true,autoSkipPadding:10},time:{unit:"day",displayFormats:{day:"D. MMM"}}}],yAxes:[{scaleLabel:{display:true,labelString:h.yaxis},ticks:{min:0,max:k}}]}}})}function drawGraphic(j,c,g,f){if(!f){f="#CCCCCC"}var h=[],e=[];for(var d=0;d<c.length;++d){h.push(c[d].y);e.push(c[d].name)}var a=[];var b=f;for(d=0;d<h.length;++d){if(0===d%4){b=f}a.push(b);b=nelioabLightenColor(b)}return new Chart(j,{type:"pie",data:{datasets:[{data:h,backgroundColor:a}],labels:e},options:{tooltips:{callbacks:{label:function(k){var i=k.index;if(0.1===h[i]){return e[i]+": 0"}else{return e[i]+": "+h[i]}}}},legend:{display:false},layout:{padding:{left:10,right:10,top:0,bottom:0}},responsive:true,maintainAspectRatio:false}})}function drawAlternativeGraphic(b,a,e,d,c,f){if(!d){d="#cccccc"}if(a>c){c=a}c=c-a;if(!c&&!a){c=0.1}return new Chart(b,{type:"pie",data:{datasets:[{data:[a,c],backgroundColor:[d,nelioabLightenColor(d)]}]},labels:[f,e],options:{tooltips:{callbacks:{label:function(g,h){if(0===g.index){return e+": "+a}else{if(0.1!==c){return f+": "+(c+a)}else{return f+": 0"}}}}},legend:{display:false},layout:{padding:{left:10,right:10,top:0,bottom:0}},responsive:true,maintainAspectRatio:false}})};